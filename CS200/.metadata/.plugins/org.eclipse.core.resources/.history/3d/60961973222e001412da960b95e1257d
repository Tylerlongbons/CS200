import java.io.File;
import java.io.FileNotFoundException;
import java.io.PrintWriter;
import java.util.ArrayList;
import java.util.Collections;
import java.util.Scanner;


public class P1 {
	public ArrayList<String> words = new ArrayList<String>();
	
	public P1(String in){
		readFile(in);
		writeWords();
	}
	
	public void readFile(String filename){
		toList(filename);
		noChars();
		noPunct();
		alphaSort();
		noDuplicates();
	}
	
	private void toList(String filename){
		String line = "";
		try {
			Scanner scanner = new Scanner(new File(filename));
			while(scanner.hasNextLine()){
				line =scanner.nextLine();
				for(String s: line.split("/s")){
					if(Collections.binarySearch(words, s.toLowerCase())==-1)
						words.add(s.toLowerCase());
				}
			}
		} catch (FileNotFoundException e) {
			// TODO How do they want errors
			e.printStackTrace();
		}
	}
	private void noChars(){
		for(int i=0; i<words.size();i++){
			if(words.get(i).contains("<")){
				String[] split = words.get(i).split("<");
				words.set(i,split[0]);
				for(int j=i; j<words.size(); j++){
					if(words.get(j).contains(">")){
						split = words.get(j).split(">");
						words.set(i+1,split[1]);
						j=words.size();//exits loop
					}
					else
						words.remove(j);
				}
			}
		}
	}
	private void noPunct(){
		for(int i=0; i<words.size();i++){
			if(words.get(i).split("+-.,!@#$%^&*();\/|<>\"'))
		}
	}
	private void alphaSort(){
		Collections.sort(words);
	}
	private void noDuplicates(){
		for(int i=0;i<words.size()-1;i++){
			if(words.get(i).equals(words.get(i+1))){
				words.remove(i+1);
				i--;
			}
		}
	}
	
	
	private boolean binarySearch(){
		return false;//temp
	}
	
	
	
	public void writeWords(){
		try {
			PrintWriter writer = new PrintWriter("Words");
			writer.println("WORDS");
			for(String s: words){
				writer.println(s);
			}
			writer.println(words.size());
		} catch (FileNotFoundException e) {
			//TODO: Error info, ask what they expect for this
			e.printStackTrace();
		}
		
	}
}
